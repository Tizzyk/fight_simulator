{% extends "index.html" %}
{% block content %}

<script>
var None = "";
var fighterData = [{{ data|safe }}];
var male = [];
var female = [];
var male_flyweight = [];
var male_bantamweight = [];
var male_featherweight = [];
var male_lightweight = [];
var male_welterweight = [];
var male_middleweight = [];
var male_lhweight = [];
var male_heavyweight = [];
var female_strawweight = [];
var female_bantamweight = [];

$(document).ready(function() {
    $('#fight').click(function() {
        $('#results').slideToggle('fast');
    });
    for (var i=0; i<fighterData.length; i++) {
        var data = fighterData[i];
        for (var i=0; i<data.length; i++) {
            var fighters = data[i];        
            if (fighters['gender'] == "male") {
                male.push(fighters);
                if (fighters['weight'] == "Flyweight") {
                    male_flyweight.push(fighters);
                }
                else if (fighters['weight'] == "Bantamweight") {
                    male_bantamweight.push(fighters);
                }
                else if (fighters['weight'] == "Featherweight") {
                    male_featherweight.push(fighters);
                }
                else if (fighters['weight'] == "Lightweight") {
                    male_lightweight.push(fighters);
                } 
                else if (fighters['weight'] == "Welterweight") {
                    male_welterweight.push(fighters);
                }
                else if (fighters['weight'] == "Middleweight") {
                    male_middleweight.push(fighters);
                }
                else if (fighters['weight'] == "Light_Heavyweight") {
                    male_lhweight.push(fighters);
                }
                else if (fighters['weight'] == "Heavyweight") {
                    male_heavyweight.push(fighters);
                }                
            }
            else if (fighters['gender'] == "female") {
                female.push(fighters);
                if (fighters['weight'] == "Women_Strawweight") {
                    female_strawweight.push(fighters);
                }
                else if (fighters['weight'] == "Women_Bantamweight") {
                    female_bantamweight.push(fighters);
                }
            }             
        }
    }
    var $red_gender = $('#red_gender');
    var $red_weight = $('#red_weight');
    var $red_promotion = $('#red_promotion'); 
    var $red_fighter = $('#red_fighter');
    var $red_info = $('#red_info');

    $red_gender.on('change', function(){
        if (($red_gender).val() == "Male") { 
            $red_fighter.empty();
            $red_weight.empty();
            $red_weight.append('<option>Flyweight</option>').selectpicker('refresh');
            $red_weight.append('<option>Bantamweight</option>').selectpicker('refresh');
            $red_weight.append('<option>Featherweight</option>').selectpicker('refresh');
            $red_weight.append('<option>Lightweight</option>').selectpicker('refresh');
            $red_weight.append('<option>Welterweight</option>').selectpicker('refresh');
            $red_weight.append('<option>Middleweight</option>').selectpicker('refresh');
            $red_weight.append('<option>Light Heavyweight</option>').selectpicker('refresh');
            $red_weight.append('<option>Heavyweight</option>').selectpicker('refresh');                                     
            for (var i=0; i<male.length; i++) {
                $red_fighter.append('<option>' + male[i].last_name + ", " + male[i].first_name +'</option>').selectpicker('refresh');
            }
            $red_weight.on('change', function(){
                if (($red_weight).val() == "Flyweight") {
                    $red_fighter.empty();
                    for (var i=0; i<male_flyweight.length; i++) {
                        $red_fighter.append('<option>' + male_flyweight[i].last_name + ", " + male_flyweight[i].first_name +'</option>').selectpicker('refresh');
                    }                            
                }
            });
            $red_weight.on('change', function(){
                if (($red_weight).val() == "Bantamweight") {
                    $red_fighter.empty();
                    for (var i=0; i<male_bantamweight.length; i++) {
                        $red_fighter.append('<option>' + male_bantamweight[i].last_name + ", " + male_bantamweight[i].first_name +'</option>').selectpicker('refresh');
                    }                            
                }
            });
            $red_weight.on('change', function(){
                if (($red_weight).val() == "Featherweight") {
                    $red_fighter.empty();
                    for (var i=0; i<male_featherweight.length; i++) {
                        $red_fighter.append('<option>' + male_featherweight[i].last_name + ", " + male_featherweight[i].first_name +'</option>').selectpicker('refresh');
                    }                            
                }
            });    
            $red_weight.on('change', function(){
                if (($red_weight).val() == "Lightweight") {
                    $red_fighter.empty();
                    for (var i=0; i<male_lightweight.length; i++) {
                        $red_fighter.append('<option>' + male_lightweight[i].last_name + ", " + male_lightweight[i].first_name +'</option>').selectpicker('refresh');
                    }                            
                }
            });    
            $red_weight.on('change', function(){
                if (($red_weight).val() == "Welterweight") {
                    $red_fighter.empty();
                    for (var i=0; i<male_welterweight.length; i++) {
                        $red_fighter.append('<option>' + male_welterweight[i].last_name + ", " + male_welterweight[i].first_name +'</option>').selectpicker('refresh');
                    }                            
                }
            });    
            $red_weight.on('change', function(){
                if (($red_weight).val() == "Middleweight") {
                    $red_fighter.empty();
                    for (var i=0; i<male_middleweight.length; i++) {
                        $red_fighter.append('<option>' + male_middleweight[i].last_name + ", " + male_middleweight[i].first_name +'</option>').selectpicker('refresh');
                    }                            
                }
            });    
            $red_weight.on('change', function(){
                if (($red_weight).val() == "Light Heavyweight") {
                    $red_fighter.empty();
                    for (var i=0; i<male_lhweight.length; i++) {
                        $red_fighter.append('<option>' + male_lhweight[i].last_name + ", " + male_lhweight[i].first_name +'</option>').selectpicker('refresh');
                    }                            
                }
            });    
            $red_weight.on('change', function(){
                if (($red_weight).val() == "Heavyweight") {
                    $red_fighter.empty();
                    for (var i=0; i<male_heavyweight.length; i++) {
                        $red_fighter.append('<option>' + male_heavyweight[i].last_name + ", " + male_heavyweight[i].first_name +'</option>').selectpicker('refresh');
                    }                            
                }
            });            
        }
    });
    $red_gender.on('change', function(){
        if (($red_gender).val() == "Female") {
            $red_fighter.empty();
            $red_weight.empty();
            $red_weight.append('<option>Strawweight</option>').selectpicker('refresh');
            $red_weight.append('<option>Bantamweight</option>').selectpicker('refresh');            
            for (var i=0; i<female.length; i++) {
                $red_fighter.append('<option>' + female[i].last_name + ", " + female[i].first_name +'</option>').selectpicker('refresh');
            }
            $red_weight.on('change', function(){
                if (($red_weight).val() == "Strawweight") {
                    $red_fighter.empty();
                    for (var i=0; i<female_strawweight.length; i++) {
                        $red_fighter.append('<option>' + female_strawweight[i].last_name + ", " + female_strawweight[i].first_name +'</option>').selectpicker('refresh');
                    }                            
                }
            });
            $red_weight.on('change', function(){
                if (($red_weight).val() == "Bantamweight") {
                    $red_fighter.empty();
                    for (var i=0; i<female_bantamweight.length; i++) {
                        $red_fighter.append('<option>' + female_bantamweight[i].last_name + ", " + female_bantamweight[i].first_name +'</option>').selectpicker('refresh');
                    }                            
                }
            });                        
        }
    });


});
</script>

<div class="container">
    <div class="row">
        <div class="col-md-5">  
            <div class="panel panel-danger">
                <div class="panel-heading">
                    <h2 class="panel-title text-center">Red Corner</h2>
                </div>
                <div id="red_corner" class="panel-body">
                    <div class="row">
                        <div class="col-md-6">
                            <ul class="list-group">
                                <li id="dropdowns" class="list-group-item">
                                    <select id="red_gender" class="selectpicker step" title="Gender" value=""
                                                    data-size="10" data-width="100%">

                                        <option>Female</option>
                                        <option>Male</option>
                                    </select>
                                </li>
                                <li class="list-group-item">
                                    <select id="red_promotion" class="selectpicker" title="Promotion" 
                                                    data-size="10" data-width="100%">
                                        <option>UFC</option>
                                        <option>Bellator MMA</option>
                                        <option>One FC</option>
                                        <option>World Series of Fighting</option>
                                    </select>
                                </li>
                                <li class="list-group-item">
                                    <select id="red_weight" class="selectpicker" title="Weight" 
                                                    data-size="10" data-width="100%">
                                        <option>Strawweight</option>
                                        <option>Flyweight</option>
                                        <option>Bantamweight</option>
                                        <option>Featherweight</option>
                                        <option>Lightweight</option>
                                        <option>Welterweight</option>
                                        <option>Middleweight</option>
                                        <option>Light Heavyweight</option>
                                        <option>Heavyweight</option>
                                    </select>
                                </li>
                                <li class="list-group-item">
                                    <select id="red_fighter" class="selectpicker" title="Fighter" data-size="10" 
                                            data-width="100%" data-live-search="true">
                                        {% for fighter in data %}
                                        <option data-icon="glyphicon glyphicon-user">{{ fighter.last_name }}, {{ fighter.first_name }}</option>
                                        {% endfor %}                                            
                                    </select>    
                                </li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <img src="../static/images/Body-1.png" 
                                class="img-responsive" alt="Responsive image">    
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 center-text">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <h4 class="panel-title">Fighter Info</h4>
                                </div>
                                <div class="panel-body">
                                    <ul id="red_info" class="list-group">
                                        <li class="list-group-item">Name</li>
                                        <li class="list-group-item">Nickname</li>
                                        <li class="list-group-item">Weight Class</li>
                                        <li class="list-group-item">Record</li>
                                    </ul>
                                </div>
                            </div>        
                        </div>    
                    </div>
                </div>
            </div>    
        </div>
        <div class="col-md-2">
            <h1 id="vs" class="text-center">VS.</h1>
            <button id="fight" type="button" class="btn btn-danger btn-lg btn-block">FIGHT!</button>   
        </div>
        <div class="col-md-5">
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h2 class="panel-title text-center">Blue Corner</h2>
                </div>
                <div id="blue_corner" class="panel-body">
                    <div class="row">
                        <div class="col-md-6">
                            <ul class="list-group">
                                <li class="list-group-item">
                                    <select class="selectpicker" title="Gender" 
                                                    data-size="10" data-width="100%">
                                        <option data-icon="glyphicon glyphicon-queen">Female</option>
                                        <option data-icon="glyphicon glyphicon-king">Male</option>
                                    </select>
                                </li>
                                <li class="list-group-item">
                                    <select class="selectpicker" title="Promotion" 
                                                    data-size="10" data-width="100%">
                                        <option data-icon="glyphicon glyphicon-bullhorn">UFC</option>
                                        <option data-icon="glyphicon glyphicon-bullhorn" disabled>Bellator MMA</option>
                                        <option data-icon="glyphicon glyphicon-bullhorn" disabled>One FC</option>
                                        <option data-icon="glyphicon glyphicon-bullhorn" disabled>World Series of Fighting</option>
                                    </select>
                                </li>
                                <li class="list-group-item">
                                    <select class="selectpicker" title="Weight" 
                                                    data-size="10" data-width="100%">
                                        <option data-icon="glyphicon glyphicon-scale">Strawweight</option>
                                        <option data-icon="glyphicon glyphicon-scale">Flyweight</option>
                                        <option data-icon="glyphicon glyphicon-scale">Bantamweight</option>
                                        <option data-icon="glyphicon glyphicon-scale">Featherweight</option>
                                        <option data-icon="glyphicon glyphicon-scale">Lightweight</option>
                                        <option data-icon="glyphicon glyphicon-scale">Welterweight</option>
                                        <option data-icon="glyphicon glyphicon-scale">Middleweight</option>
                                        <option data-icon="glyphicon glyphicon-scale">Light Heavyweight</option>
                                        <option data-icon="glyphicon glyphicon-scale">Heavyweight</option>
                                    </select>
                                </li>
                                <li class="list-group-item">
                                    <select class="selectpicker" title="Fighter" data-size="10" 
                                            data-width="100%" data-live-search="true" data-header="Select a fighter">
                                        {% for fighter in data %}
                                        <option data-icon="glyphicon glyphicon-user">{{ fighter.last_name }}, {{ fighter.first_name }}</option>
                                        {% endfor %}
                                    </select>    
                                </li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <img src="../static/images/Body-1.png" 
                                class="img-responsive" alt="Responsive image">    
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 center-text">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <h4 class="panel-title">Fighter Info</h4>
                                </div>
                                <div class="panel-body">
                                    <ul class="list-group">
                                        <li class="list-group-item">Name</li>
                                        <li class="list-group-item">Nickname</li>                                        
                                        <li class="list-group-item">Weight Class</li>
                                        <li class="list-group-item">Record</li>
                                    </ul>
                                </div>
                            </div>        
                        </div>    
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="result_row" class="row">
        <div class="col-md-3">
        </div>
        <div class="col-md-6">
            <div class="panel panel-success">
                <div class="panel-heading">
                    <h3 class="panel-title text-center">Results</h3>
                </div>
                <div id="results" class="panel-body">
                    <ul class="list-group">
                        <li class="list-group-item">Winner</li>
                        <li class="list-group-item">Round</li>
                        <li class="list-group-item">Time</li>
                        <li class="list-group-item">Method</li>
                    </ul>
                </div>
            </div>    
        </div>
        <div class="col-md-3">
        </div>
    </div>    
</div>

{% endblock content %} 